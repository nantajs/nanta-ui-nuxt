import{e as S,z as y,o as r,c as f,A as a,B as k,v as d,C as v,l as K,E as B,t as x,D as N,M as E,O as z,J as F,K as R,q as I,j as D,u as M,G as j,x as H,S as O,i as w,k as q,P as G}from"./entry.e667eb54.js";import J from"./Icon.7b6b99ac.js";import{getAsyncMenus as T}from"./menu.b1ab39c7.js";const Y=""+globalThis.__publicAssetsURL("favicon.ico"),Q=e=>(F("data-v-cba033e6"),e=e(),R(),e),W={class:"logo",style:{"font-size":"x-large",color:"azure"}},X=Q(()=>k("img",{src:Y,class:"nanta-logo"},null,-1)),Z=S({__name:"NavBar",props:{navItems:Array,selectedKeys:Array},setup(e){const _=({item:l,key:o,selectedKeys:n})=>{console.log("selectd"),console.log(l)};return(l,o)=>{const n=z,p=y("a-menu-item"),i=y("a-menu"),c=y("a-layout-header");return r(),f(c,{class:"header"},{default:a(()=>[k("div",W,[d(n,{to:"/","aria-label":"Back home"},{default:a(()=>[X,v(" Nanta ")]),_:1})]),d(i,{modelValue:e.selectedKeys,"onUpdate:modelValue":o[0]||(o[0]=h=>E(selectedKeys)?selectedKeys.value=h:null),theme:"dark",mode:"horizontal",onSelect:_,style:{lineHeight:"64px",fontSize:"large"}},{default:a(()=>[(r(!0),K(N,null,B(e.navItems,h=>(r(),f(p,{key:h.key},{default:a(()=>[v(x(h.name),1)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})}}});const ee=I(Z,[["__scopeId","data-v-cba033e6"]]),te=S({__name:"BasicSubMenu",props:{item:{type:Object,default:{}}},setup(e){const _=e,l=D(()=>!_.item.hideMenu);function o(n){return Reflect.has(n,"children")&&!!n.children&&n.children.length>0}return(n,p)=>{const i=J,c=z,h=y("a-menu-item"),A=y("BasicSubMenu",!0);return r(),K("div",null,[!o(e.item)&&M(l)?(r(),f(h,{key:e.item.key},{icon:a(()=>[d(i,{name:e.item.icon},null,8,["name"])]),default:a(()=>[k("span",null,[d(c,{to:e.item.path},{default:a(()=>[v(x(e.item.name),1)]),_:1},8,["to"])])]),_:1})):j("",!0),o(e.item)&&M(l)?(r(),f(M(O),{key:e.item.key,popupClassName:"app-top-menu-popup"},{title:a(()=>[k("span",null,[d(i,{name:e.item.icon},null,8,["name"]),v(" "+x(e.item.name),1)])]),default:a(()=>[(r(!0),K(N,null,B(e.item.children||[],C=>(r(),f(A,H({key:C.path},n.$props,{item:C}),null,16,["item"]))),128))]),_:1})):j("",!0)])}}}),ne=S({__name:"SideBar",props:{sideMenus:Array,selectedKeys:Array,openKeys:Array},emits:["menu-selected"],setup(e,{emit:_}){const l=o=>{const{key:n,keyPath:p}=o;console.log(o),_("menu-selected",{key:n,keyPath:p})};return(o,n)=>{const p=y("a-menu"),i=y("a-layout-sider");return r(),f(i,{width:"200",style:{background:"#fff"}},{default:a(()=>[d(p,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":n[0]||(n[0]=c=>E(selectedKeys)?selectedKeys.value=c:null),openKeys:e.openKeys,"onUpdate:openKeys":n[1]||(n[1]=c=>E(openKeys)?openKeys.value=c:null),mode:"inline",onSelect:l,style:{height:"100%",borderRight:0}},{default:a(()=>[(r(!0),K(N,null,B(e.sideMenus,c=>(r(),f(te,{item:c,key:c.key},null,8,["item"]))),128))]),_:1},8,["selectedKeys","openKeys"])]),_:1})}}});const ae=I(ne,[["__scopeId","data-v-dae3c67b"]]);const oe={},se=k("a",{href:"https://github.com/nantajs/nanta-ui",target:"_blank"},"NANTA-UI",-1),le=k("a",{href:"https://github.com/nantajs",target:"_blank"},"nantajs",-1);function ce(e,_){const l=y("a-layout-footer");return r(),f(l,{class:"footer"},{default:a(()=>[se,v(" \xA92022~"+x(new Date().getFullYear())+" Created by ",1),le,v(". ")]),_:1})}const ue=I(oe,[["render",ce]]);function re(e){for(var _="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=l.length,n=0;n<e;n++)_+=l.charAt(Math.floor(Math.random()*o));return _}const me=S({__name:"default",async setup(e){let _,l;const o=w([]),n=w([]),p=w([]),i=([_,l]=q(()=>T()),_=await _,l(),_);function c(t,u,s){u(t,s),t.children&&t.children.length>0&&t.children.forEach(m=>{c(m,u,t.keyPath)})}const h=(()=>{const t={};return i.forEach(u=>{c(u,(s,m)=>{(!s.key||s.key.length==0)&&(s.key=re(5)),s.keyPath=[],m&&m.length>0&&m.forEach(b=>{s.keyPath.push(b)}),s.keyPath.push(s.key)},[])}),console.log(i),i.forEach(u=>{c(u,s=>{const{name:m,path:b}=s;t[s.key]={name:m,path:b}})}),t})();function A(t){let u=null;return i.forEach(s=>{c(s,m=>{m.path===t&&(u=m.keyPath)})}),u}const g=A("/");if(console.log(g),g&&g.length>0){const t=g.length;o.value=[g[t-1]],n.value=g.slice(0,t-1)}function L(t){if(p.value=[],t&&t.length>0)for(let u=0;u<t.length;u++)h[t[u]]&&p.value.push(h[t[u]].name)}L(g);const P=t=>{L(t.keyPath)},U=[{name:"Nav-1",key:"1"},{name:"Nav-2",key:"2"},{name:"Nav-3",key:"3"}];return(t,u)=>{const s=y("a-breadcrumb-item"),m=y("a-breadcrumb"),b=y("a-layout-content"),$=y("a-layout");return r(),f($,null,{default:a(()=>[d(ee,{navItems:U,selectedKeys:o.value},null,8,["selectedKeys"]),d($,null,{default:a(()=>[d(ae,{sideMenus:M(i),onMenuSelected:P,selectedKeys:o.value,openKeys:n.value},null,8,["sideMenus","selectedKeys","openKeys"]),d($,{style:{padding:"0 24px 24px"}},{default:a(()=>[d(m,{style:{margin:"16px 0"}},{default:a(()=>[(r(!0),K(N,null,B(p.value,V=>(r(),f(s,{key:V},{default:a(()=>[v(x(V),1)]),_:2},1024))),128))]),_:1}),d(b,{style:{background:"#fff",padding:"24px",margin:0,minHeight:"280px"}},{default:a(()=>[G(t.$slots,"default")]),_:3})]),_:3})]),_:3}),d(ue)]),_:3})}}});export{me as default};
